'use client'

import { useEffect, useRef } from 'react'

interface TurboLogoProps {
  size?: number
  animated?: boolean
  showBody?: boolean
  className?: string
}

export function TurboLogo({ 
  size = 64, 
  animated = false,
  showBody = false,
  className = '' 
}: TurboLogoProps) {
  const containerRef = useRef<HTMLDivElement>(null)
  const animationRef = useRef<any>(null)

  useEffect(() => {
    if (animated && containerRef.current) {
      // Limpiar cualquier animación previa
      if (animationRef.current) {
        animationRef.current.destroy()
      }
      
      import('lottie-web').then((lottie) => {
        animationRef.current = lottie.default.loadAnimation({
          container: containerRef.current!,
          renderer: 'svg',
          loop: true,
          autoplay: true,
          path: '/turbo-animation.json',
        })
      })
    }

    // Cleanup al desmontar el componente
    return () => {
      if (animationRef.current) {
        animationRef.current.destroy()
        animationRef.current = null
      }
    }
  }, [animated])

  if (animated) {
    return (
      <div
        ref={containerRef}
        style={{ width: size, height: size }}
        className={className}
      />
    )
  }

  // SVG completo (con cuerpo)
  if (showBody) {
    return (
      <div style={{ width: size, height: size * 1.067 }} className={className}>
        <svg viewBox="0 0 180 192" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ width: '100%', height: '100%' }}>
          <path d="M153.265 38.6676C143.765 27.6677 54.2655 22.1677 38.7655 29.6677C23.2655 37.1676 16.1753 97.7893 31.7654 130.668C47.3555 163.546 110.04 170.13 133.765 141.668C157.491 113.206 162.765 49.6676 153.265 38.6676Z" fill="#EB701E"/>
          <path d="M29.2654 47.6675C33.5278 19.4421 39.2636 -2.12856 49.7654 0.167655C59.7161 2.34335 74.7542 26.7553 80.4137 26.028L81.2654 25.6677C81.0119 25.8703 80.7272 25.9877 80.4137 26.028L29.2654 47.6675Z" fill="#EB701E"/>
          <path d="M154.265 1.66765C144.424 -4.56437 120.432 25.1234 104.265 29.6674L157.265 72.1676C157.265 72.1676 164.107 7.89967 154.265 1.66765Z" fill="#EB701E"/>
          <path d="M39.2654 37.6677C39.2654 37.6677 43.7654 15.1676 49.2654 14.1676C54.7654 13.1677 66.2654 26.6677 66.2654 26.6677C53.8786 26.3183 48.072 30.8887 39.2654 37.6677Z" fill="#1F2F5F"/>
          <path d="M122.765 31.6676C122.797 31.684 122.829 31.7004 122.861 31.7167C125.535 32.7357 141.653 13.2324 147.265 16.6676C152.95 20.1467 148.898 49.7392 150.265 51.6676C138.397 36.3564 133.126 36.9697 122.861 31.7167C122.827 31.7037 122.795 31.6874 122.765 31.6676Z" fill="#1F2F5F"/>
          <path d="M81.2654 68.6676C81.2654 80.2656 71.8634 89.6676 60.2654 89.6676C48.6674 89.6676 39.2654 80.2656 39.2654 68.6676C39.2654 57.0697 48.6674 47.6676 60.2654 47.6676C71.8634 47.6676 81.2654 57.0697 81.2654 68.6676Z" fill="#FAEEEE"/>
          <path d="M75.2654 70.1676C75.2654 77.6235 72.7654 83.6676 66.2654 83.6676C59.7654 83.6676 57.2654 77.6235 57.2654 70.1676C57.2654 62.7118 57.2654 56.1676 66.2654 56.1676C75.2654 56.1676 75.2654 62.7118 75.2654 70.1676Z" fill="#1F2F5F"/>
          <path d="M75.6651 62.0937C76.5837 64.5382 76.0443 67.0024 74.4602 67.5977C72.8762 68.193 70.8474 66.6939 69.9287 64.2495C69.0101 61.805 69.5495 59.3408 71.1336 58.7455C72.7176 58.1502 74.7465 59.6493 75.6651 62.0937Z" fill="#FAEEEE"/>
          <path d="M134.265 68.6676C134.265 80.2656 124.863 89.6676 113.265 89.6676C101.667 89.6676 92.2654 80.2656 92.2654 68.6676C92.2654 57.0697 101.667 47.6676 113.265 47.6676C124.863 47.6676 134.265 57.0697 134.265 68.6676Z" fill="#FAEEEE"/>
          <path d="M128.265 70.1676C128.265 77.6235 125.765 83.6676 119.265 83.6676C112.765 83.6676 110.265 77.6235 110.265 70.1676C110.265 62.7118 110.265 56.1676 119.265 56.1676C128.265 56.1676 128.265 62.7118 128.265 70.1676Z" fill="#1F2F5F"/>
          <path d="M128.665 62.0937C129.584 64.5382 129.044 67.0024 127.46 67.5977C125.876 68.193 123.847 66.6939 122.929 64.2495C122.01 61.805 122.55 59.3408 124.134 58.7455C125.718 58.1502 127.746 59.6493 128.665 62.0937Z" fill="#FAEEEE"/>
          <path d="M78.7654 104.168C73.4655 102.45 71.9321 92.6676 72.7654 88.1676C72.7654 88.1676 90.7654 82.1676 91.7654 81.6676C92.7654 81.1676 91.7654 93.6676 91.7654 93.6676C90.2355 103.752 85.6179 106.389 78.7654 104.168Z" fill="#CF4320"/>
          <path d="M92.7654 94.6676L91.2654 101.168L86.2654 105.168C80.4321 106.001 74.5654 105.768 73.7654 100.168C72.9654 94.5676 88.2654 94.6676 92.7654 94.6676Z" fill="#F05C00"/>
          <path d="M90.2654 182.168C90.2654 191.668 83.102 191.668 74.2654 191.668C65.4289 191.668 58.2654 191.668 58.2654 182.168C58.2654 172.668 65.4289 172.668 74.2654 172.668C83.102 172.668 90.2654 172.668 90.2654 182.168Z" fill="#EB701E"/>
          <path d="M151.131 164.162C155.386 172.656 148.981 175.864 141.08 179.821C133.18 183.779 126.775 186.987 122.52 178.493C118.265 169.999 124.67 166.791 132.571 162.834C140.472 158.876 146.877 155.668 151.131 164.162Z" fill="#EB701E"/>
          <path d="M146.941 92.1164C137.352 100.29 137.371 100.312 151.404 116.774C154.654 120.586 157.645 124.095 160.729 126.287C165.011 129.331 169.471 129.835 175.045 125.084C184.633 116.91 178.342 109.53 170.581 100.426C149.633 75.8533 156.529 83.9426 146.941 92.1164Z" fill="#EB701E"/>
          <path d="M32.9577 91.8414C42.546 100.015 42.5275 100.037 28.4939 116.499C25.2446 120.311 22.2529 123.82 19.1689 126.012C14.8871 129.056 10.4274 129.56 4.85367 124.809C-4.73455 116.635 1.55676 109.255 9.31748 100.151C30.2654 75.5784 23.3695 83.6677 32.9577 91.8414Z" fill="#EB701E"/>
          <path d="M68.5275 123.397C67.8947 122.855 68.5275 116.354 69.1603 115.812C69.7931 115.27 96.3705 116.354 97.0033 117.437C97.6361 118.521 97.0033 124.48 96.3705 125.022C95.7377 125.564 86.8786 123.939 86.8786 124.48C86.8786 125.022 86.2458 142.901 85.613 143.443C84.9802 143.985 76.7539 143.443 76.1211 142.901C75.4883 142.36 77.3867 124.48 77.3867 123.939C77.3867 123.397 69.1603 123.939 68.5275 123.397Z" fill="#FAEEEE"/>
          <path d="M9.26541 55.8728C10.2654 55.3728 16.0654 55.4728 31.2654 59.8728C32.7654 65.7062 33.9654 77.3728 26.7654 77.3728C19.5654 77.3728 14.4321 73.7062 12.7654 71.8728L19.2654 69.3728L9.26541 55.8728Z" fill="#EB701E"/>
          <path d="M174.403 57.8728C173.403 57.3728 167.603 57.4728 152.403 61.8728C150.903 67.7062 149.703 79.3728 156.903 79.3728C164.103 79.3728 169.237 75.7062 170.903 73.8728L164.403 71.3728L174.403 57.8728Z" fill="#EB701E"/>
        </svg>
      </div>
    )
  }

  // Solo cabeza (para nav) - VERSIÓN LIMPIA
  return (
    <div style={{ width: size, height: size }} className={className}>
      <svg viewBox="0 0 180 120" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ width: '100%', height: '100%' }}>
        {/* Cabeza principal */}
        <path d="M153.265 38.6676C143.765 27.6677 54.2655 22.1677 38.7655 29.6677C23.2655 37.1676 16.1753 97.7893 31.7654 110.668C47.3555 123.546 110.04 130.13 133.765 101.668C157.491 73.206 162.765 49.6676 153.265 38.6676Z" fill="#EB701E"/>
        
        {/* Orejas */}
        <path d="M29.2654 47.6675C33.5278 19.4421 39.2636 -2.12856 49.7654 0.167655C59.7161 2.34335 74.7542 26.7553 80.4137 26.028L81.2654 25.6677C81.0119 25.8703 80.7272 25.9877 80.4137 26.028L29.2654 47.6675Z" fill="#EB701E"/>
        <path d="M154.265 1.66765C144.424 -4.56437 120.432 25.1234 104.265 29.6674L157.265 72.1676C157.265 72.1676 164.107 7.89967 154.265 1.66765Z" fill="#EB701E"/>
        
        {/* Detalles orejas */}
        <path d="M39.2654 37.6677C39.2654 37.6677 43.7654 15.1676 49.2654 14.1676C54.7654 13.1677 66.2654 26.6677 66.2654 26.6677C53.8786 26.3183 48.072 30.8887 39.2654 37.6677Z" fill="#1F2F5F"/>
        <path d="M122.765 31.6676C122.797 31.684 122.829 31.7004 122.861 31.7167C125.535 32.7357 141.653 13.2324 147.265 16.6676C152.95 20.1467 148.898 49.7392 150.265 51.6676C138.397 36.3564 133.126 36.9697 122.861 31.7167C122.827 31.7037 122.795 31.6874 122.765 31.6676Z" fill="#1F2F5F"/>
        
        {/* Ojo izquierdo */}
        <path d="M81.2654 68.6676C81.2654 80.2656 71.8634 89.6676 60.2654 89.6676C48.6674 89.6676 39.2654 80.2656 39.2654 68.6676C39.2654 57.0697 48.6674 47.6676 60.2654 47.6676C71.8634 47.6676 81.2654 57.0697 81.2654 68.6676Z" fill="#FAEEEE"/>
        <path d="M75.2654 70.1676C75.2654 77.6235 72.7654 83.6676 66.2654 83.6676C59.7654 83.6676 57.2654 77.6235 57.2654 70.1676C57.2654 62.7118 57.2654 56.1676 66.2654 56.1676C75.2654 56.1676 75.2654 62.7118 75.2654 70.1676Z" fill="#1F2F5F"/>
        <path d="M75.6651 62.0937C76.5837 64.5382 76.0443 67.0024 74.4602 67.5977C72.8762 68.193 70.8474 66.6939 69.9287 64.2495C69.0101 61.805 69.5495 59.3408 71.1336 58.7455C72.7176 58.1502 74.7465 59.6493 75.6651 62.0937Z" fill="#FAEEEE"/>
        
        {/* Ojo derecho */}
        <path d="M134.265 68.6676C134.265 80.2656 124.863 89.6676 113.265 89.6676C101.667 89.6676 92.2654 80.2656 92.2654 68.6676C92.2654 57.0697 101.667 47.6676 113.265 47.6676C124.863 47.6676 134.265 57.0697 134.265 68.6676Z" fill="#FAEEEE"/>
        <path d="M128.265 70.1676C128.265 77.6235 125.765 83.6676 119.265 83.6676C112.765 83.6676 110.265 77.6235 110.265 70.1676C110.265 62.7118 110.265 56.1676 119.265 56.1676C128.265 56.1676 128.265 62.7118 128.265 70.1676Z" fill="#1F2F5F"/>
        <path d="M128.665 62.0937C129.584 64.5382 129.044 67.0024 127.46 67.5977C125.876 68.193 123.847 66.6939 122.929 64.2495C122.01 61.805 122.55 59.3408 124.134 58.7455C125.718 58.1502 127.746 59.6493 128.665 62.0937Z" fill="#FAEEEE"/>
        
        {/* Nariz/Boca */}
        <path d="M78.7654 104.168C73.4655 102.45 71.9321 92.6676 72.7654 88.1676C72.7654 88.1676 90.7654 82.1676 91.7654 81.6676C92.7654 81.1676 91.7654 93.6676 91.7654 93.6676C90.2355 103.752 85.6179 106.389 78.7654 104.168Z" fill="#CF4320"/>
        <path d="M92.7654 94.6676L91.2654 101.168L86.2654 105.168C80.4321 106.001 74.5654 105.768 73.7654 100.168C72.9654 94.5676 88.2654 94.6676 92.7654 94.6676Z" fill="#F05C00"/>
        
        {/* Bigotes */}
        <path d="M9.26541 55.8728C10.2654 55.3728 16.0654 55.4728 31.2654 59.8728C32.7654 65.7062 33.9654 77.3728 26.7654 77.3728C19.5654 77.3728 14.4321 73.7062 12.7654 71.8728L19.2654 69.3728L9.26541 55.8728Z" fill="#EB701E"/>
        <path d="M174.403 57.8728C173.403 57.3728 167.603 57.4728 152.403 61.8728C150.903 67.7062 149.703 79.3728 156.903 79.3728C164.103 79.3728 169.237 75.7062 170.903 73.8728L164.403 71.3728L174.403 57.8728Z" fill="#EB701E"/>
      </svg>
    </div>
  )
}